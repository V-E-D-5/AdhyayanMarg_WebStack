import{u as e,j as a,B as s,a as r}from"./index-CKQv3R9A.js";import{r as t}from"./vendor-CcJAMPNA.js";import{C as i}from"./Card-uZnIhsI-.js";import{I as l}from"./Input-djdKkEw-.js";import{u as d}from"./i18n-BFZeVeRj.js";import{a as o}from"./router-C42e25Rd.js";import{m as n,a as m,c,E as g,o as u,p as x,A as h}from"./ui-l3yZ0qgr.js";import"./charts-CYIsZ7Q-.js";import"./forms-CFEThZtO.js";const p=()=>{const{t:p}=d(),v=o(),{login:b}=e(),[f,j]=t.useState({email:"",password:""}),[y,w]=t.useState(!1),[N,k]=t.useState({}),[C,D]=t.useState(!1),E=e=>{const{name:a,value:s}=e.target;j(e=>({...e,[a]:s})),N[a]&&k(e=>({...e,[a]:""}))};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 flex items-center justify-center p-4 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 opacity-20",children:a.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg%20width%3D%2260%22%20height%3D%2260%22%20viewBox%3D%220%200%2060%2060%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cg%20fill%3D%22%239C92AC%22%20fill-opacity%3D%220.1%22%3E%3Ccircle%20cx%3D%2230%22%20cy%3D%2230%22%20r%3D%222%22/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')]"})}),a.jsx(n.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.6,ease:"easeOut"},className:"w-full max-w-md relative z-10",children:a.jsxs(i,{className:"p-8 shadow-2xl bg-white/95 backdrop-blur-sm border border-white/20",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx(n.div,{className:"w-20 h-20 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:a.jsx(m,{className:"w-10 h-10 text-white"})}),a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-3",children:[p("admin.title")," Portal"]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"Secure access to administrative controls"}),a.jsx("div",{className:"w-16 h-1 bg-gradient-to-r from-red-500 to-purple-500 mx-auto mt-4 rounded-full"})]}),a.jsxs("form",{onSubmit:async e=>{var a,s,t,i,l,d,o,n,m;if(e.preventDefault(),(()=>{const e={};return f.email?/\S+@\S+\.\S+/.test(f.email)||(e.email="Please enter a valid email"):e.email="Email is required",f.password||(e.password="Password is required"),k(e),0===Object.keys(e).length})()){D(!0),k({});try{const e=await r.login(f);if(e.data.success){if("admin"!==e.data.user.role)return k({general:"Access denied. Admin privileges required."}),void D(!1);localStorage.setItem("authToken",e.data.token),b(e.data.user),k({}),setTimeout(()=>{v("/admin")},100)}else k({general:e.data.message})}catch(c){let e="Network error. Please try again.";401===(null==(a=c.response)?void 0:a.status)?e=(null==(i=null==(t=null==(s=c.response)?void 0:s.data)?void 0:t.message)?void 0:i.includes("password"))?"Invalid password":(null==(o=null==(d=null==(l=c.response)?void 0:l.data)?void 0:d.message)?void 0:o.includes("user"))?"No user found with this email":"Invalid credentials":(null==(m=null==(n=c.response)?void 0:n.data)?void 0:m.message)&&(e=c.response.data.message),k({general:e})}finally{D(!1)}}},className:"space-y-6",children:[N.general&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900 border border-red-200 dark:border-red-700 text-red-600 dark:text-red-400 px-4 py-3 rounded-lg text-sm font-medium",children:N.general}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:p("auth.email")}),a.jsx(l,{type:"email",name:"email",value:f.email,onChange:E,placeholder:"Enter admin email",leftIcon:a.jsx(c,{className:"w-4 h-4 text-gray-400"}),error:N.email,required:!0,className:"dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),a.jsx(l,{type:y?"text":"password",name:"password",value:f.password,onChange:E,placeholder:"Enter password",leftIcon:a.jsx(x,{className:"w-4 h-4 text-gray-400"}),rightIcon:a.jsx("button",{type:"button",onClick:()=>w(!y),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors duration-200 p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-600",children:y?a.jsx(g,{className:"w-4 h-4"}):a.jsx(u,{className:"w-4 h-4"})}),error:N.password,required:!0,className:"dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]}),a.jsx(s,{type:"submit",disabled:C,className:"w-full bg-red-600 hover:bg-red-700 dark:bg-red-600 dark:hover:bg-red-700 text-white font-semibold py-3",size:"lg",children:C?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing In..."]}):a.jsxs("div",{className:"flex items-center justify-center",children:[p("auth.signIn"),a.jsx(h,{className:"w-4 h-4 ml-2"})]})}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{onClick:()=>v("/"),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 text-sm font-medium",children:"‚Üê Back to Home"})})]})]})})]})};export{p as default};
//# sourceMappingURL=AdminLogin-CXTIfZRF.js.map
